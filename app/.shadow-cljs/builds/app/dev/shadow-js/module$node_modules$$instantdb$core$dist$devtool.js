["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@instantdb/core/dist/devtool.js"],"~:js","shadow$provide.module$node_modules$$instantdb$core$dist$devtool = function(global, require, module, exports) {\n  function createIframe(src) {\n    const element = document.createElement(\"iframe\");\n    element.src = src;\n    element.className = \"instant-devtool-iframe\";\n    Object.assign(element.style, {width:\"100%\", height:\"100%\", backgroundColor:\"white\", border:\"none\"});\n    return {element};\n  }\n  function createToggler(config, onClick) {\n    const element = document.createElement(\"button\");\n    element.innerHTML = '\\n    \\x3csvg width\\x3d\"32\" height\\x3d\"32\" viewBox\\x3d\"0 0 512 512\" fill\\x3d\"none\" xmlns\\x3d\"http://www.w3.org/2000/svg\"\\x3e\\n      \\x3crect width\\x3d\"512\" height\\x3d\"512\" fill\\x3d\"black\"/\\x3e\\n      \\x3crect x\\x3d\"97.0973\" y\\x3d\"91.3297\" width\\x3d\"140\" height\\x3d\"330\" fill\\x3d\"white\"/\\x3e\\n    \\x3c/svg\\x3e\\n  ';\n    element.className = \"instant-devtool-toggler\";\n    Object.assign(element.style, Object.assign(Object.assign({position:\"fixed\"}, cssPositionForToggler(config.position)), {height:\"32px\", width:\"32px\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\", zIndex:\"9010\", padding:\"0\", margin:\"0\", border:\"none\", cursor:\"pointer\"}));\n    element.addEventListener(\"click\", onClick);\n    return {element};\n  }\n  function cssPositionForToggler(position) {\n    switch(position) {\n      case \"bottom-left\":\n        return {bottom:\"24px\", left:\"24px\"};\n      case \"bottom-right\":\n        return {bottom:\"24px\", right:\"24px\"};\n      case \"top-right\":\n        return {top:\"24px\", right:\"24px\"};\n      case \"top-left\":\n        return {top:\"24px\", left:\"24px\"};\n    }\n  }\n  function cssPositionForIframeContainer(position) {\n    switch(position) {\n      case \"bottom-left\":\n        return {bottom:\"24px\", right:\"24px\", left:\"60px\", top:\"72px\"};\n      case \"bottom-right\":\n        return {bottom:\"24px\", left:\"24px\", right:\"60px\", top:\"72px\"};\n      case \"top-right\":\n        return {top:\"24px\", left:\"24px\", right:\"60px\", bottom:\"72px\"};\n      case \"top-left\":\n        return {top:\"24px\", right:\"24px\", left:\"60px\", bottom:\"72px\"};\n    }\n  }\n  function createIframeContainer(config) {\n    const element = document.createElement(\"div\");\n    Object.assign(element.style, Object.assign(Object.assign({position:\"fixed\"}, cssPositionForIframeContainer(config.position)), {display:\"block\", borderRadius:\"4px\", border:\"1px #ccc solid\", boxShadow:\"0px 0px 8px #00000044\", backgroundColor:\"#eee\", zIndex:\"999990\"}));\n    element.style.display = \"none\";\n    element.className = \"instant-devtool-container\";\n    return {element, isVisible:function() {\n      return \"none\" !== element.style.display;\n    }};\n  }\n  var __createBinding = this && this.__createBinding || (Object.create ? function(o, m, k, k2) {\n    void 0 === k2 && (k2 = k);\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = {enumerable:!0, get:function() {\n        return m[k];\n      }};\n    }\n    Object.defineProperty(o, k2, desc);\n  } : function(o, m, k, k2) {\n    void 0 === k2 && (k2 = k);\n    o[k2] = m[k];\n  }), __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function(o, v) {\n    Object.defineProperty(o, \"default\", {enumerable:!0, value:v});\n  } : function(o, v) {\n    o[\"default\"] = v;\n  });\n  global = this && this.__importStar || function(mod) {\n    if (mod && mod.__esModule) {\n      return mod;\n    }\n    var result = {};\n    if (null != mod) {\n      for (var k in mod) {\n        \"default\" !== k && Object.prototype.hasOwnProperty.call(mod, k) && __createBinding(result, mod, k);\n      }\n    }\n    __setModuleDefault(result, mod);\n    return result;\n  };\n  Object.defineProperty(exports, \"__esModule\", {value:!0});\n  exports.createDevtool = function(appId, config) {\n    function onPostMessage(event) {\n      var _a;\n      event.source === iframe.element.contentWindow && \"close\" === (null === (_a = event.data) || void 0 === _a ? void 0 : _a.type) && iframeContrainer.isVisible() && toggleView();\n    }\n    function onKeyDown(event) {\n      const isEsc = \"Escape\" === event.key || \"Esc\" === event.key;\n      event.shiftKey && event.ctrlKey && \"0\" === event.key ? toggleView() : isEsc && iframeContrainer.isVisible() && toggleView();\n    }\n    function toggleView() {\n      iframeContrainer.isVisible() ? iframeContrainer.element.style.display = \"none\" : (iframeContrainer.element.style.display = \"block\", iframeContrainer.element.contains(iframe.element) || iframeContrainer.element.appendChild(iframe.element));\n    }\n    null === currentDevtool || void 0 === currentDevtool || currentDevtool.dispose();\n    const iframeContrainer = createIframeContainer(config), toggler = createToggler(config, toggleView), iframe = createIframe(`${flags.devBackend || flags.devtoolLocalDashboard ? \"http://localhost:3000\" : \"https://instantdb.com\"}/_devtool?appId=${appId}`);\n    document.body.appendChild(iframeContrainer.element);\n    document.body.appendChild(toggler.element);\n    addEventListener(\"keydown\", onKeyDown);\n    addEventListener(\"message\", onPostMessage);\n    currentDevtool = {dispose:function() {\n      iframeContrainer.element.remove();\n      toggler.element.remove();\n      removeEventListener(\"keydown\", onKeyDown);\n      removeEventListener(\"message\", onPostMessage);\n    }};\n  };\n  const flags = global(require(\"module$node_modules$$instantdb$core$dist$utils$flags\"));\n  let currentDevtool;\n};\n","~:source","shadow$provide[\"module$node_modules$$instantdb$core$dist$devtool\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDevtool = createDevtool;\nconst flags = __importStar(require(\"./utils/flags\"));\nlet currentDevtool;\nfunction createDevtool(appId, config) {\n    currentDevtool === null || currentDevtool === void 0 ? void 0 : currentDevtool.dispose();\n    const iframeContrainer = createIframeContainer(config);\n    const toggler = createToggler(config, toggleView);\n    const iframe = createIframe(getSrc(appId));\n    function onPostMessage(event) {\n        var _a;\n        if (event.source !== iframe.element.contentWindow)\n            return;\n        if (((_a = event.data) === null || _a === void 0 ? void 0 : _a.type) === 'close' && iframeContrainer.isVisible()) {\n            toggleView();\n        }\n    }\n    function onKeyDown(event) {\n        const isToggleShortcut = event.shiftKey && event.ctrlKey && event.key === '0';\n        const isEsc = event.key === 'Escape' || event.key === 'Esc';\n        if (isToggleShortcut) {\n            toggleView();\n        }\n        else if (isEsc && iframeContrainer.isVisible()) {\n            toggleView();\n        }\n    }\n    function toggleView() {\n        if (iframeContrainer.isVisible()) {\n            iframeContrainer.element.style.display = 'none';\n        }\n        else {\n            iframeContrainer.element.style.display = 'block';\n            // lazily render iframe on first open\n            if (!iframeContrainer.element.contains(iframe.element)) {\n                iframeContrainer.element.appendChild(iframe.element);\n            }\n        }\n    }\n    function dispose() {\n        iframeContrainer.element.remove();\n        toggler.element.remove();\n        removeEventListener('keydown', onKeyDown);\n        removeEventListener('message', onPostMessage);\n    }\n    function create() {\n        document.body.appendChild(iframeContrainer.element);\n        document.body.appendChild(toggler.element);\n        addEventListener('keydown', onKeyDown);\n        addEventListener('message', onPostMessage);\n        currentDevtool = {\n            dispose,\n        };\n    }\n    return create();\n}\nfunction getSrc(appId) {\n    const useLocalDashboard = flags.devBackend || flags.devtoolLocalDashboard;\n    const src = `${useLocalDashboard ? 'http://localhost:3000' : 'https://instantdb.com'}/_devtool?appId=${appId}`;\n    return src;\n}\nfunction createIframe(src) {\n    const element = document.createElement('iframe');\n    element.src = src;\n    element.className = 'instant-devtool-iframe';\n    Object.assign(element.style, {\n        width: '100%',\n        height: '100%',\n        backgroundColor: 'white',\n        border: 'none',\n    });\n    return { element };\n}\nfunction createToggler(config, onClick) {\n    const logoSVG = `\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 512 512\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect width=\"512\" height=\"512\" fill=\"black\"/>\n      <rect x=\"97.0973\" y=\"91.3297\" width=\"140\" height=\"330\" fill=\"white\"/>\n    </svg>\n  `;\n    const element = document.createElement('button');\n    element.innerHTML = logoSVG;\n    element.className = 'instant-devtool-toggler';\n    Object.assign(element.style, Object.assign(Object.assign({ \n        // pos\n        position: 'fixed' }, cssPositionForToggler(config.position)), { height: '32px', width: '32px', \n        // layout\n        display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: '9010', \n        // look\n        padding: '0', margin: '0', border: 'none', cursor: 'pointer' }));\n    element.addEventListener('click', onClick);\n    return { element };\n}\nfunction cssPositionForToggler(position) {\n    switch (position) {\n        case 'bottom-left':\n            return { bottom: '24px', left: '24px' };\n        case 'bottom-right':\n            return { bottom: '24px', right: '24px' };\n        case 'top-right':\n            return { top: '24px', right: '24px' };\n        case 'top-left':\n            return { top: '24px', left: '24px' };\n    }\n}\nfunction cssPositionForIframeContainer(position) {\n    switch (position) {\n        case 'bottom-left':\n            return { bottom: '24px', right: '24px', left: '60px', top: '72px' };\n        case 'bottom-right':\n            return { bottom: '24px', left: '24px', right: '60px', top: '72px' };\n        case 'top-right':\n            return { top: '24px', left: '24px', right: '60px', bottom: '72px' };\n        case 'top-left':\n            return { top: '24px', right: '24px', left: '60px', bottom: '72px' };\n    }\n}\nfunction createIframeContainer(config) {\n    const element = document.createElement('div');\n    Object.assign(element.style, Object.assign(Object.assign({ position: 'fixed' }, cssPositionForIframeContainer(config.position)), { display: 'block', borderRadius: '4px', border: '1px #ccc solid', boxShadow: '0px 0px 8px #00000044', backgroundColor: '#eee', zIndex: '999990' }));\n    element.style.display = 'none';\n    element.className = 'instant-devtool-container';\n    function isVisible() {\n        return element.style.display !== 'none';\n    }\n    return { element, isVisible };\n}\n//# sourceMappingURL=devtool.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$$instantdb$core$dist$utils$flags","~$shadow.js"]],"~:properties",["^5",["backgroundColor","width","right","top","height","margin","innerHTML","className","createDevtool","border","__esModule","dispose","padding","justifyContent","src","element","position","value","enumerable","cursor","borderRadius","boxShadow","isVisible","zIndex","alignItems","display","bottom","get","default","left"]],"~:compiled-at",1756239699999,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$instantdb$core$dist$devtool.js\",\n\"lineCount\":109,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@instantdb/core/dist/devtool.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$$instantdb$core$dist$devtool\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    var desc = Object.getOwnPropertyDescriptor(m, k);\\n    if (!desc || (\\\"get\\\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\\n      desc = { enumerable: true, get: function() { return m[k]; } };\\n    }\\n    Object.defineProperty(o, k2, desc);\\n}) : (function(o, m, k, k2) {\\n    if (k2 === undefined) k2 = k;\\n    o[k2] = m[k];\\n}));\\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\\n    Object.defineProperty(o, \\\"default\\\", { enumerable: true, value: v });\\n}) : function(o, v) {\\n    o[\\\"default\\\"] = v;\\n});\\nvar __importStar = (this && this.__importStar) || function (mod) {\\n    if (mod && mod.__esModule) return mod;\\n    var result = {};\\n    if (mod != null) for (var k in mod) if (k !== \\\"default\\\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\\n    __setModuleDefault(result, mod);\\n    return result;\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.createDevtool = createDevtool;\\nconst flags = __importStar(require(\\\"./utils/flags\\\"));\\nlet currentDevtool;\\nfunction createDevtool(appId, config) {\\n    currentDevtool === null || currentDevtool === void 0 ? void 0 : currentDevtool.dispose();\\n    const iframeContrainer = createIframeContainer(config);\\n    const toggler = createToggler(config, toggleView);\\n    const iframe = createIframe(getSrc(appId));\\n    function onPostMessage(event) {\\n        var _a;\\n        if (event.source !== iframe.element.contentWindow)\\n            return;\\n        if (((_a = event.data) === null || _a === void 0 ? void 0 : _a.type) === 'close' && iframeContrainer.isVisible()) {\\n            toggleView();\\n        }\\n    }\\n    function onKeyDown(event) {\\n        const isToggleShortcut = event.shiftKey && event.ctrlKey && event.key === '0';\\n        const isEsc = event.key === 'Escape' || event.key === 'Esc';\\n        if (isToggleShortcut) {\\n            toggleView();\\n        }\\n        else if (isEsc && iframeContrainer.isVisible()) {\\n            toggleView();\\n        }\\n    }\\n    function toggleView() {\\n        if (iframeContrainer.isVisible()) {\\n            iframeContrainer.element.style.display = 'none';\\n        }\\n        else {\\n            iframeContrainer.element.style.display = 'block';\\n            // lazily render iframe on first open\\n            if (!iframeContrainer.element.contains(iframe.element)) {\\n                iframeContrainer.element.appendChild(iframe.element);\\n            }\\n        }\\n    }\\n    function dispose() {\\n        iframeContrainer.element.remove();\\n        toggler.element.remove();\\n        removeEventListener('keydown', onKeyDown);\\n        removeEventListener('message', onPostMessage);\\n    }\\n    function create() {\\n        document.body.appendChild(iframeContrainer.element);\\n        document.body.appendChild(toggler.element);\\n        addEventListener('keydown', onKeyDown);\\n        addEventListener('message', onPostMessage);\\n        currentDevtool = {\\n            dispose,\\n        };\\n    }\\n    return create();\\n}\\nfunction getSrc(appId) {\\n    const useLocalDashboard = flags.devBackend || flags.devtoolLocalDashboard;\\n    const src = `${useLocalDashboard ? 'http://localhost:3000' : 'https://instantdb.com'}/_devtool?appId=${appId}`;\\n    return src;\\n}\\nfunction createIframe(src) {\\n    const element = document.createElement('iframe');\\n    element.src = src;\\n    element.className = 'instant-devtool-iframe';\\n    Object.assign(element.style, {\\n        width: '100%',\\n        height: '100%',\\n        backgroundColor: 'white',\\n        border: 'none',\\n    });\\n    return { element };\\n}\\nfunction createToggler(config, onClick) {\\n    const logoSVG = `\\n    <svg width=\\\"32\\\" height=\\\"32\\\" viewBox=\\\"0 0 512 512\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n      <rect width=\\\"512\\\" height=\\\"512\\\" fill=\\\"black\\\"/>\\n      <rect x=\\\"97.0973\\\" y=\\\"91.3297\\\" width=\\\"140\\\" height=\\\"330\\\" fill=\\\"white\\\"/>\\n    </svg>\\n  `;\\n    const element = document.createElement('button');\\n    element.innerHTML = logoSVG;\\n    element.className = 'instant-devtool-toggler';\\n    Object.assign(element.style, Object.assign(Object.assign({ \\n        // pos\\n        position: 'fixed' }, cssPositionForToggler(config.position)), { height: '32px', width: '32px', \\n        // layout\\n        display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: '9010', \\n        // look\\n        padding: '0', margin: '0', border: 'none', cursor: 'pointer' }));\\n    element.addEventListener('click', onClick);\\n    return { element };\\n}\\nfunction cssPositionForToggler(position) {\\n    switch (position) {\\n        case 'bottom-left':\\n            return { bottom: '24px', left: '24px' };\\n        case 'bottom-right':\\n            return { bottom: '24px', right: '24px' };\\n        case 'top-right':\\n            return { top: '24px', right: '24px' };\\n        case 'top-left':\\n            return { top: '24px', left: '24px' };\\n    }\\n}\\nfunction cssPositionForIframeContainer(position) {\\n    switch (position) {\\n        case 'bottom-left':\\n            return { bottom: '24px', right: '24px', left: '60px', top: '72px' };\\n        case 'bottom-right':\\n            return { bottom: '24px', left: '24px', right: '60px', top: '72px' };\\n        case 'top-right':\\n            return { top: '24px', left: '24px', right: '60px', bottom: '72px' };\\n        case 'top-left':\\n            return { top: '24px', right: '24px', left: '60px', bottom: '72px' };\\n    }\\n}\\nfunction createIframeContainer(config) {\\n    const element = document.createElement('div');\\n    Object.assign(element.style, Object.assign(Object.assign({ position: 'fixed' }, cssPositionForIframeContainer(config.position)), { display: 'block', borderRadius: '4px', border: '1px #ccc solid', boxShadow: '0px 0px 8px #00000044', backgroundColor: '#eee', zIndex: '999990' }));\\n    element.style.display = 'none';\\n    element.className = 'instant-devtool-container';\\n    function isVisible() {\\n        return element.style.display !== 'none';\\n    }\\n    return { element, isVisible };\\n}\\n//# sourceMappingURL=devtool.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"createIframe\",\"src\",\"element\",\"document\",\"createElement\",\"className\",\"Object\",\"assign\",\"style\",\"width\",\"height\",\"backgroundColor\",\"border\",\"createToggler\",\"config\",\"onClick\",\"innerHTML\",\"logoSVG\",\"position\",\"cssPositionForToggler\",\"display\",\"alignItems\",\"justifyContent\",\"zIndex\",\"padding\",\"margin\",\"cursor\",\"addEventListener\",\"bottom\",\"left\",\"right\",\"top\",\"cssPositionForIframeContainer\",\"createIframeContainer\",\"borderRadius\",\"boxShadow\",\"isVisible\",\"__createBinding\",\"create\",\"o\",\"m\",\"k\",\"k2\",\"undefined\",\"desc\",\"getOwnPropertyDescriptor\",\"__esModule\",\"writable\",\"configurable\",\"enumerable\",\"get\",\"defineProperty\",\"__setModuleDefault\",\"v\",\"value\",\"__importStar\",\"mod\",\"result\",\"prototype\",\"hasOwnProperty\",\"call\",\"createDevtool\",\"appId\",\"onPostMessage\",\"event\",\"_a\",\"source\",\"iframe\",\"contentWindow\",\"data\",\"type\",\"iframeContrainer\",\"toggleView\",\"onKeyDown\",\"isEsc\",\"key\",\"shiftKey\",\"ctrlKey\",\"contains\",\"appendChild\",\"currentDevtool\",\"dispose\",\"toggler\",\"flags\",\"devBackend\",\"devtoolLocalDashboard\",\"body\",\"remove\",\"removeEventListener\"]\n}\n"]